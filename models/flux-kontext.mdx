---
title: "Flux Kontext Image Generation API"
description: "Wizzx Flux Kontext Pro/Max text-to-image and image-to-image submission and polling"
---

## Quick start

- Platform: Wizzx gateway; use `Authorization: Bearer <your_api_key>`.
- Submit: `POST https://api.wizzx.ai/api/v1/task/submit/flux-kontext-pro` or `/flux-kontext-max`, async `task_id`.
- Poll: `POST https://api.wizzx.ai/api/v1/task/status` with `task_id`.
- Models: `flux-kontext-pro` (fast general) and `flux-kontext-max` (higher quality).
- Supports aspect ratios from 21:9 to 9:21, up to 4 reference images, prompt upsampling.

<Warning>
  **Breaking Change (2025-12-10):** Reference images unified to `image_urls` array (max 4). `input_image` / `_2` / `_3` / `_4` are deprecated.
</Warning>

### Auth

```bash
Authorization: Bearer <your_api_key>
```

### Model comparison

| Feature    | Flux Kontext Pro | Flux Kontext Max |
| ---------- | ---------------- | ---------------- |
| Base cost  | 30 credits       | 60 credits       |
| Quality    | High             | Higher           |
| Speed      | Faster           | Slower, better   |
| Use case   | General          | Premium outputs  |
| Webhook    | Not supported    | Supported        |
| vs Official | Save 25%        | Save 25%         |

Official price: Pro $0.04/image, Max $0.08/image. Our price: Pro 30 credits, Max 60 credits (1000 credits = $1).

### Submit job

Endpoint: `POST https://api.wizzx.ai/api/v1/task/submit/flux-kontext-pro` or `/flux-kontext-max`, `Content-Type: application/json`

| Field                | Type            | Description                                  | Default/Rules                                      |
| -------------------- | --------------- | -------------------------------------------- | -------------------------------------------------- |
| `prompt`             | string          | Image description                            | **Required**                                       |
| `aspect_ratio`       | string          | Aspect ratio 21:9 to 9:21                    | Format `width:height`, e.g., "16:9", "1:1", "9:16" |
| `image_urls`         | `array<string>` | Reference images                             | Max 4, suggest 1-3; JPEG/PNG/WebP; â‰¤30MB each      |
| `output_format`      | string          | `jpeg` / `png`                               | Default `png`                                      |
| `prompt_upsampling`  | bool            | Prompt optimization                          | Default `false`                                    |
| `safety_tolerance`   | int             | Safety level 0-6 (0 strict)                  | Default `2`                                        |
| `seed`               | int             | Seed for reproducibility                     | Optional                                           |
| `webhook_url`        | string          | Webhook URL                                  | Optional, 1-2083 chars                             |
| `webhook_secret`     | string          | Webhook signing secret                       | Optional                                           |

<Warning>
  **Aspect ratio:** must be between 9:21 (portrait) and 21:9 (landscape). Common: 1:1, 4:3, 3:2, 16:9, 9:16, 21:9, 9:21.  
  **Reference images:** use `image_urls`, max 4. Extra cost: Pro +3 credits/image, Max +5 credits/image.
</Warning>

#### Example (Pro, basic text-to-image)

```bash
curl -X POST https://api.wizzx.ai/api/v1/task/submit/flux-kontext-pro \
  -H "Authorization: Bearer <api_key>" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "A futuristic city at night with neon lights",
    "aspect_ratio": "16:9",
    "output_format": "png",
    "safety_tolerance": 2
  }'
```

#### Example (Max, high quality + prompt upsampling)

```bash
curl -X POST https://api.wizzx.ai/api/v1/task/submit/flux-kontext-max \
  -H "Authorization: Bearer <api_key>" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "A serene mountain landscape with a crystal clear lake",
    "aspect_ratio": "21:9",
    "output_format": "png",
    "safety_tolerance": 2,
    "prompt_upsampling": true,
    "seed": 42
  }'
```

#### Example (multiple references)

```bash
curl -X POST https://api.wizzx.ai/api/v1/task/submit/flux-kontext-pro \
  -H "Authorization: Bearer <api_key>" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "Combine the styles and elements from reference images",
    "aspect_ratio": "1:1",
    "image_urls": [
      "https://example.com/ref1.jpg",
      "https://example.com/ref2.jpg",
      "https://example.com/ref3.jpg"
    ],
    "output_format": "png"
  }'
```

Success response:

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "task_id": "task_123456789",
    "status": "pending",
    "credits_deducted": 15
  }
}
```

### Query status

Endpoint: `POST https://api.wizzx.ai/api/v1/task/status`

```json
{
  "task_id": "task_123456789"
}
```

Response (processing):

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "task_id": "task_123456789",
    "status": "processing",
    "result_urls": null
  }
}
```

Response (succeeded):

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "task_id": "task_123456789",
    "status": "succeeded",
    "result_urls": ["https://cdn.example.com/images/result_123456789.png"]
  }
}
```

Response (failed):

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "task_id": "task_123456789",
    "status": "failed",
    "error_message": "Content policy violation",
    "result_urls": null
  }
}
```

Statuses: `pending`, `processing`, `succeeded`, `failed`.

### Pricing

#### Flux Kontext Pro
- Base: 30 credits
- vs Official (Replicate $0.04): Save 25%

#### Flux Kontext Max
- Base: 60 credits
- vs Official (Replicate $0.08): Save 25%

### Parameters at a glance

- Required: `prompt`
- Optional: `aspect_ratio`, `image_urls`, `output_format`, `prompt_upsampling`, `safety_tolerance`, `seed`, `webhook_url`, `webhook_secret`
- Rules:
  - Aspect ratio between 9:21 and 21:9
  - `image_urls` max 4
  - Safety 0-6 (0 strict, 6 lax)
  - Output: PNG for detail/alpha, JPEG for photo/size
  - Prompt upsampling rewrites prompt for creativity

### Error examples

**Insufficient credits**

```json
{
  "code": 402,
  "message": "insufficient credits",
  "data": null
}
```

**Validation error**

```json
{
  "code": 400,
  "message": "validation error: invalid aspect_ratio: ratio must be between 9:21 (portrait) and 21:9 (landscape), got 5.000",
  "data": null
}
```

**Model not found**

```json
{
  "code": 404,
  "message": "model 'flux-kontext-pro' is not registered",
  "data": null
}
```

### Best practices

1. Aspect ratios  
   - 1:1 social, 16:9 landscape, 9:16 mobile, 21:9 cinematic.
2. Prompt upsampling  
   - Use detailed prompts; enable `prompt_upsampling` for creative rewrites.
3. Multiple references  
   - Keep 1-3 consistent images; extra images are experimental and add cost.
4. Safety tolerance  
   - Default 2 for general use; 0-1 stricter, 3-6 looser.
5. Output format  
   - PNG for high detail/alpha; JPEG for size-sensitive uses.
6. Seeds  
   - Same seed + params yield similar results; omit for variation.

### FAQ

- Callback needed? No, poll `task/status`. Max supports webhook if provided.
- How to reproduce? Provide `seed`.
- Pro vs Max? Pro for fast iteration; Max for premium quality.
- Reference images? Guide style/composition; max 4.
- Prompt upsampling? Auto-enhances prompt for creativity.
