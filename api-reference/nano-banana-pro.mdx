---
title: "Nano Banana Pro 图像生成 API"
description: "Nano Banana Pro 文生图/图生图提交、参数规则、积分定价与迁移指引"
---

## 概览

- 模型：Nano Banana Pro，支持文生图与多参考图（最多 8 张，30MB/张）。
- 分辨率：`1K`、`2K`、`4K`；默认 `1K`，高分辨率消耗更多积分。
- 画幅：`1:1`、`16:9`、`9:16`、`21:9` 等 10+ 选项，支持 `auto`。
- 输出：`png`/`jpg`，默认 `png`。
- 异步接口：提交 `POST /api/v1/task/submit/nano-banana-pro`，查询 `POST /api/v1/task/status`。

<Warning>
  **Breaking Change（2025-12-10）**：图片输入字段已从 `image_input` 统一为 `image_urls` 数组，请尽快迁移。
</Warning>

## 认证

在 Header 里加入：

```bash
Authorization: Bearer <your_api_key>
```

## 提交任务

接口：`POST /api/v1/task/submit/nano-banana-pro`，`Content-Type: application/json`

| 字段 | 类型 | 必填 | 默认/限制 | 说明 |
| --- | --- | --- | --- | --- |
| `prompt` | string | 是 | ≤ 10000 字符 | 文本提示词 |
| `image_urls` | array&lt;string&gt; | 否 | 最多 8 张，≤30MB/张 | 参考图 URL 列表（JPEG/PNG/WebP） |
| `aspect_ratio` | string | 否 | 默认 `1:1` | `1:1`、`2:3`、`3:2`、`3:4`、`4:3`、`4:5`、`5:4`、`9:16`、`16:9`、`21:9`、`auto` |
| `resolution` | string | 否 | 默认 `1K` | `1K` / `2K` / `4K` |
| `output_format` | string | 否 | 默认 `png` | `png` / `jpg` |

<Note>
  - 参考图：建议使用清晰主体、风格一致的图像，数量 1-3 张常见，最多 8 张。
  - 画幅与构图：`1:1` 适合社媒封面，`16:9` 适合横屏，`9:16` 适合竖屏移动端，`21:9` 适合电影感宽屏。
  - 分辨率与积分：`1K/2K` 消耗 10 积分，`4K` 消耗 20 积分。
</Note>

### 请求示例（文生图）

```bash
curl -X POST https://api.wizzx.ai/api/v1/task/submit/nano-banana-pro \
  -H "Authorization: Bearer <api_key>" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "A futuristic city at night with neon lights",
    "aspect_ratio": "16:9",
    "resolution": "2K",
    "output_format": "png"
  }'
```

### 请求示例（多参考图/风格迁移）

```bash
curl -X POST https://api.wizzx.ai/api/v1/task/submit/nano-banana-pro \
  -H "Authorization: Bearer <api_key>" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "Transform this into anime style",
    "image_urls": [
      "https://example.com/source.jpg",
      "https://example.com/style2.jpg"
    ],
    "aspect_ratio": "1:1",
    "resolution": "4K",
    "output_format": "png"
  }'
```

## 任务查询

接口：`POST /api/v1/task/status`

```json
{
  "task_id": "task_123456789"
}
```

典型返回：`pending` → `processing` → `succeeded`（返回 `result_urls`）或 `failed`（查看 `error_message`）。

## 积分与速率

- 计费：`1K/2K = 10 积分`，`4K = 20 积分`。
- 限流：每个 API Key 每分钟 100 次请求；每日 1000 个任务；单用户并发 10 个任务。

## 迁移指引（image_input → image_urls）

### 旧版（已废弃）

```json
{
  "prompt": "...",
  "image_input": [
    "https://example.com/img1.jpg"
  ]
}
```

### 新版（当前）

```json
{
  "prompt": "...",
  "image_urls": [
    "https://example.com/img1.jpg"
  ]
}
```

## 最佳实践

- 提示词写清主体、场景、光线、风格（如 photorealistic、digital art）。
- 先用 `1K/2K` 快速迭代，定稿再切换 `4K`。
- 竖屏内容优先选 `9:16`，横屏内容用 `16:9` 或 `21:9`；不确定时可用 `auto`。
- 参考图数量控制在 1-3 张，确保尺寸和风格一致，避免低分辨率或过曝图片。
